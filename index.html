---
# Feel free to add content and custom Front Matter to this file.
# To modify the layout, see https://jekyllrb.com/docs/themes/#overriding-theme-defaults

layout: home
---
<updated-list>
</updated-list>

<script type="riot/tag">
	<updated-list>
<h2>Recent Bot Updates</h2>

<ul style="list-style-type: none; margin: 0; padding: 0;">
<li each={ bots }>
{ lastUpdated } <i class="fas fa-caret-right"></i> { botName } <span style="font-size: 1.5em;" if={ won + lost == 0 }>&#x1F195;</span>
</li>
</ul>
	</updated-list>
</script>

<script>
	let updateTable = riot.mount('*')[0];
	let botsAfter = Date.now() / 1000 - 86400 * 5;
	$.getJSON("http://basilicum.bytekeeper.org/stats/ranking.json", function(data) {
		updateTable.bots = data.filter(function(x) {
			return x.lastUpdated >= botsAfter;
		}).sort(function(a, b) { return b.lastUpdated - a.lastUpdated; })
		.map(function(bot) {
			bot.lastUpdated = basil.formatDate(bot.lastUpdated);
			return bot;
		});
		updateTable.update();
	});
</script>
