---
layout: page
permalink: /elo.html
---
<script>
	$(function() {
		let botName = window.location.search.substring(1).split("=")[1];
		$.getJSON("http://basilicum.bytekeeper.org/stats/" + botName + "/eloHistory.json", function(data) {
			let chartData = [];
			let chartData2 = [];
			let lastSecond = 0;
			for (i = 0; i < data.length; i++) {
				let entry = data[i];
				if (entry.epochSecond - lastSecond >= 43200) {
					chartData.push({x: new Date(entry.epochSecond * 1000), y: entry.rating});
					chartData2.push({x: new Date(entry.epochSecond * 1000), y: entry.rating + 50});
					lastSecond = entry.epochSecond;
				}
			}
			let ctx = document.getElementById("eloChart");
			new Chart(ctx, {
				type: "line",
				data: {
					datasets: [{
						label: botName,
						fill: false,
						borderColor: "rgba(0, 0, 200, 0.4)",
						data: chartData
					}]
				},
				options: {
					scales: {
						xAxes: [{
							type: "time",
							time: {
								unit: "day"
							}
						}]
					}
				}
			});
		});
	});
</script>
<h1>WIP: No chart here? Click on a bot in Ranking</h1>
<canvas id="eloChart" width="1200" height="600">
</canvas>

</table>
